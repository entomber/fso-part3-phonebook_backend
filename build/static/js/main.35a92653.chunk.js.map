{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","props","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Person","person","clickHandler","name","number","onClick","Persons","persons","map","key","Notification","notification","commonStyle","display","fontSize","borderStyle","borderRadius","padding","marginBottom","successStyle","color","errorStyle","style","isError","message","url","axios","get","then","response","data","newObject","post","id","delete","put","App","useState","setNotification","setPersons","setNewName","setNewNumber","setNewFilter","useEffect","personService","initialPersons","personsToShow","filter","toLowerCase","indexOf","resetNotification","setTimeout","event","target","preventDefault","window","confirm","find","p","changedPerson","returnedPerson","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.35a92653.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => (\r\n  <div>filter shown with\r\n    <input value={newFilter} onChange={handleFilterChange} />\r\n  </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  const { addName, newName, newNumber, handleNameChange, handleNumberChange } =   props\r\n  \r\n  return (\r\n    <div>\r\n      <form onSubmit={addName}>\r\n        <div>name: \r\n          <input value={newName} onChange={handleNameChange}/>\r\n        </div>\r\n        <div>number: \r\n          <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, clickHandler }) => (\r\n  <div>\r\n    {persons.map(person => \r\n      <Person key={person.name} \r\n        person={person} \r\n        clickHandler={clickHandler} \r\n      />)}\r\n  </div>\r\n)\r\n\r\nconst Person = ({ person, clickHandler }) => (\r\n  <div>\r\n    {person.name} {person.number}\r\n    <button onClick={clickHandler(person)}>delete</button>\r\n  </div>\r\n)\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nNotification = ({ notification }) => {\r\n  if (notification === null) {\r\n    return null\r\n  }\r\n\r\n  const commonStyle = {\r\n    display: 'inline-block',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  const successStyle = {\r\n    ...commonStyle,\r\n    color: 'green',\r\n  }\r\n\r\n  const errorStyle = {\r\n    ...commonStyle,    \r\n    color: 'red',\r\n  }\r\n\r\n  return (\r\n    <div style={notification.isError ? errorStyle : successStyle}>\r\n      {notification.message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst url = 'api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(url)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(url, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${url}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${url}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [notification, setNotification] = useState(null)\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n\r\n  const hook = () => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }\r\n\r\n  useEffect(hook, [])\r\n\r\n  const personsToShow = persons.filter(person =>\r\n    person.name.toLowerCase().indexOf(newFilter.toLowerCase()) > -1)\r\n  \r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\r\n  \r\n  const nameExists = () => {\r\n    const names = persons.map(person => person.name)\r\n    return names.indexOf(newName) > -1 ? true : false\r\n  }\r\n\r\n  const resetNotification = () => {\r\n    setTimeout(() =>{\r\n      setNotification(null)\r\n    }, 3000)\r\n  }\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    if (nameExists() && newNumber) {\r\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\r\n        const person = persons.find(p => p.name === newName)\r\n        const changedPerson = { ...person, number: newNumber }\r\n\r\n        personService\r\n          .update(person.id, changedPerson)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(person => \r\n              person.id !== returnedPerson.id ? person : returnedPerson\r\n            ))        \r\n            setNotification({\r\n              message: `Added ${newName}`,\r\n              isError: false\r\n            })\r\n          })\r\n          .catch(error => {\r\n            setNotification({\r\n              message: error.response.data.error,\r\n              isError: true\r\n            })\r\n          })\r\n\r\n        resetNotification()\r\n        setNewName('')\r\n        setNewNumber('')\r\n      }\r\n    } else if (!newName || !newNumber) {\r\n      setNotification({\r\n        message: `${newName ? 'Number' : 'Name'} cannot be empty`,\r\n        isError: true\r\n      })\r\n      resetNotification()\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNotification({\r\n            message: `Added ${newName}`,\r\n            isError: false\r\n          })\r\n        })\r\n        .catch(error => {\r\n          setNotification({\r\n            message: error.response.data.error,\r\n            isError: true\r\n          })\r\n        })\r\n      \r\n      resetNotification()\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n  }\r\n  \r\n  const deletePerson = (person) => {\r\n    return () => {\r\n      if (window.confirm(`Delete ${person.name} ?`)) {\r\n        personService\r\n        .remove(person.id)\r\n        .then(() => {\r\n          setNotification({\r\n            message: `Deleted ${person.name}`,\r\n            isError: false\r\n          })\r\n          resetNotification()\r\n          setPersons(persons.filter(p => p.id !== person.id))\r\n        })\r\n        .catch(error => {\r\n          setNotification({\r\n            message: `Information of ${person.name} has already been removed from server`,\r\n            isError: true\r\n          })\r\n          resetNotification()\r\n          setPersons(persons.filter(p => p.id !== person.id))\r\n        })\r\n      }\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notification={notification} />\r\n      <Filter \r\n        newFilter={newFilter} \r\n        handleFilterChange={handleFilterChange}\r\n      />\r\n      <h2>Add a new contact</h2>\r\n      <PersonForm\r\n        addName={addName}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons \r\n        persons={personsToShow} \r\n        clickHandler={deletePerson}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}